(this["webpackJsonponcf-voyages"]=this["webpackJsonponcf-voyages"]||[]).push([[17],{1105:function(e,t,a){"use strict";a.d(t,"b",(function(){return J})),a.d(t,"a",(function(){return U}));var r=a(5),c=a(12),n=a.n(c),l=a(27),s=a(0),i=a.n(s),o=a(6),m=a(1334),d=a(28),p=a(1089),u=(a(595),a(115)),E=a(1153),F=(a(1111),a(1104),a(240),a(7)),f=a(11),b=({title:e="aller",content:t,componentItems:a=null,extra:r})=>{t.hasSup=r.length>0;var c="";if(r.length>0||t.isUpseller){var n=r.length>0?r:t.isUpseller?t.upsell:[],l=[];n.forEach((t,a)=>{var r=t[Object.keys(t)[0]];r.status===e&&l.push(i.a.createElement("div",{key:a,className:"cart-item-supp"},i.a.createElement("span",{className:"title"},r.title),i.a.createElement("span",{className:"price"},"+",r.data.priceSup-r.data.price," DH")))}),l.length>0&&(c=i.a.createElement("div",{key:"second-element",className:"cart-item-supp-wrapper"}," ",i.a.createElement("p",null,"Suppl\xe9ment")," ",l," "))}return[i.a.createElement("div",{key:"first-element"},i.a.createElement("div",{className:"cart-item-header"},i.a.createElement("label",null,i.a.createElement(d.a,{type:"car"})," ",i.a.createElement("b",null,e)," ",t.date),null!==a?i.a.createElement(d.a,{onClick:e=>{F.a.emit(f.a.REMOVE_CART,t.codeTrip)},className:"trash",type:"delete"}):""),i.a.createElement("div",{className:"cart-item-content"},i.a.createElement("span",{className:"origin"},t.origin),i.a.createElement("span",{className:"arrow"}),i.a.createElement("span",{className:"destination"},t.destination)),i.a.createElement("div",{className:"cart-item-footer"},i.a.createElement("div",{className:"cart-item-type"},i.a.createElement("p",{className:"travelers"},t.travelers),i.a.createElement("p",{className:"confort"},t.comfort&&t.comfort.designation?t.comfort.designation.default+", /"+t.type:"")),i.a.createElement("label",{className:"price"},t.price+" DH"))),c]},h=({content:e,componentItems:t,extra:a=null})=>{var r=e.map((e,r)=>{var c=r>0?"":{componentItems:t};return[r>0?i.a.createElement(E.a,{key:"item-divider-key"}):"",i.a.createElement(b,Object.assign({extra:a,key:r,title:0===r?"Aller":"Retour",content:e},c))]});return i.a.createElement("div",{className:"cart-item"},r)},v=a(4),O=a(29),y=e=>{var t=v.a.getJsonSync("cart-extra-".concat(e.content[0].codeTrip)),a=Object(s.useState)(t||[]),c=Object(o.a)(a,2),n=c[0],l=c[1],m=Object(s.useState)(e.content),d=Object(o.a)(m,2),p=d[0],u=d[1],E=Object(s.useRef)([]);Object(s.useEffect)(t=>(F.a.addListeners("addSupToCart".concat(e.content[0].codeTrip),t=>{var a=v.a.getJsonSync("cart"),r="Aller"===t.status?0:1;!Object(O.c)(t)&&Object(O.d)(t.typeSelected)&&0===Object.keys(t.typeSelected).length?(a[e.content[0].codeTrip][r].isUpseller=!1,l(c=>{var n=c.filter(e=>{var a=Object.keys(e)[0];return a===t.type&&e[a].status!==t.status});return a[e.content[0].codeTrip][r].upsell=n,v.a.remove("cart-extra-".concat(e.content[0].codeTrip)),n})):(a[e.content[0].codeTrip][r].isUpseller=!0,l(c=>{var n=[];return void 0===n[t.type]&&(n=[...c,{[t.type]:{data:t.typeSelected,title:"".concat(t.sup," (").concat(t.type,")"),status:t.status}}]),a[e.content[0].codeTrip][r].upsell=n,v.a.setJson("cart-extra-".concat(e.content[0].codeTrip),n),n})),E.current.push(setTimeout(e=>{null!==a&&v.a.setJson("cart",a)},0)),u(a[e.content[0].codeTrip])}),t=>{F.a.removeListener("addSupToCart".concat(e.content[0].codeTrip)),E.current.forEach(e=>clearTimeout(e))}),[]);var f=Object(r.a)(Object(r.a)({extra:n,componentItems:{deleteLabel:"Delete Icon"}},e),{},{content:p});return i.a.createElement(h,f)},j=a(36),g=a(20),C=(a(1112),a(40)),T=a(50),k=a(1093).a.Footer,S=({ctaLabel:e,totalPrice:t,footerItems:a,nextRoute:r,match:c,location:n})=>{var l=e=>"",s=v.a.getJsonSync("cart");return Object(T.a)("TARIFF_COORD")!==n.pathname&&null!==s&&Object.keys(s).length>0&&(l=0===t?t=>i.a.createElement(g.b,{to:Object(T.a)("TARIFF_COORD")},i.a.createElement(C.a,{type:"secondary",className:"cta-cart-footer",content:e})):t=>i.a.createElement(g.b,{to:r(c.path,n)},i.a.createElement(C.a,{type:"secondary",className:"cta-cart-footer",content:e}))),null!==s&&0===Object.keys(s).length?"":i.a.createElement(k,{className:"cart-footer"},i.a.createElement("p",{className:"label"},a.labelText),i.a.createElement("p",{className:"price"},"".concat(t," ").concat(a.currency)),i.a.createElement(l,null))},A=e=>{var t=e.footerItems,a=Object(j.a)(e,["footerItems"]),c=Object(s.useState)(0),m=Object(o.a)(c,2),d=m[0],p=m[1],u=function(){var e=Object(l.a)(n.a.mark((function e(t){var a,r;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null!==(a=v.a.getJsonSync("cart"))&&Object.keys(a).length>0&&(r=Object.values(a).reduce((e,t)=>e+t.reduce((e,t)=>t.isUpseller?e+t.upsell[0][t.type].data.priceSup:e+t.price,0),0),p(r));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(s.useEffect)(e=>{u(),F.a.addListeners(f.a.RESYNC_CART_ITEM,e=>u()),F.a.addListeners("addSupToCartFooter",({extra:e,active:t})=>{p(a=>t?a-e.typeSelected.price+e.typeSelected.priceSup:a+e.oldTypeSelected.price-e.oldTypeSelected.priceSup)})},[d]),Object(s.useEffect)(()=>()=>{F.a.removeListeners(["addSupToCartFooter","resyncCartItem"])},[]);var E=Object(r.a)(Object(r.a)({ctaLabel:t.buttonLabel,footerItems:t,nextRoute(e,t){var a={[Object(T.a)("UPSELL_PAGE")]:{route:Object(T.a)("UPSELL_PAGE")},[Object(T.a)("AUTH_TARIFF_PAGE")]:{route:Object(T.a)("AUTH_TARIFF_PAGE")},[Object(T.a)("COOR_PAGE")]:{route:Object(T.a)("COOR_PAGE")}},r=null,c={};return t.pathname===e?r=e+"/"+Object.keys(a)[0]:(Object.keys(a).forEach(n=>{var l=e+"/"+n;""===r&&(r=l),t.pathname===l&&(r=""),c[l]=a[n]}),null!==r&&""!==r?r:e)}},a),{},{totalPrice:d});return i.a.createElement(S,E)},w=a(1106),M=a(1115),N=(a(1113),a(21)),x=a(31),L=a(49),_=a(1148),R=a.n(_),D=(a(1149),m.a.Panel),I=({show:e})=>i.a.createElement("div",{style:{display:e?"block":"none"},className:"cart-notification"},i.a.createElement(d.a,{type:"check-circle"})," Mon voyage a \xe9t\xe9 ajout\xe9 avec succ\xe8s"),P=Object(u.h)(({footerItems:e,componentItems:t,match:a,location:r,history:c,updateScrollWrapper:n,removeCart:l,formatCartObject:u,isExpress:E,checkUriAuthorization:b})=>{var h=Object(s.useState)(null),O=Object(o.a)(h,2),j=O[0],g=O[1],C=Object(s.useState)(!0),k=Object(o.a)(C,2),S=k[0],_=k[1],P=Object(s.useState)(!1),H=Object(o.a)(P,2),z=H[0],Z=H[1],B=Object(s.useState)({}),J=Object(o.a)(B,2),U=J[0],G=J[1],Y="",W=Object(s.useRef)([]),q=Object(s.useState)(!1),V=Object(o.a)(q,2),K=V[0],Q=V[1];window.addEventListener("scroll",()=>{window.scrollY>=120?Q(!0):Q(!1)});b(e=>{[Object(T.a)("TARIFF_AUTH"),Object(T.a)("TARIFF_COORD"),Object(T.a)("TARIFF_UPSELL"),Object(T.a)("TARIFF_AUTH")+"/",Object(T.a)("TARIFF_COORD")+"/",Object(T.a)("TARIFF_UPSELL")+"/"].includes(r.pathname)&&(window.location.href="/")}),Object(s.useEffect)(()=>(W.current.push(setTimeout(()=>{_(!1)},1e3)),n(null,j,g,W.current),(()=>{if(0===Object.keys(U).length){var e=v.a.getJsonSync("cart");null!==e&&Object.keys(e).length!==Object.keys(U).length&&G(e)}})(),F.a.addListeners(f.a.ADD_TO_CART,e=>{"undefined"===typeof e.comfort&&(e.comfort={abbreviation:"2eme"}),void 0===U[e.codeTrip]&&(U[e.codeTrip]=[]),U[e.codeTrip].push(u(e)),G(U),v.a.setJson("cart",U),Z(!0),W.current.push(setTimeout(()=>Z(!1),1e3)),E(e,c),Object(x.a)("secondary",Object(N.a)("tripAddedSuccessfully"),i.a.createElement(d.a,{color:"#ffffff",type:"check-circle"}))}),()=>{F.a.removeListener(f.a.ADD_TO_CART),W.current.forEach(e=>clearTimeout(e))}),[U]);var X=Object.values(U).map((e,t)=>i.a.createElement(y,{key:t,content:e}));if(0!==X.length&&L.isMobile){X=i.a.createElement(R.a,{dotsDisabled:!0,buttonsDisabled:!0,infinite:!1,responsive:{0:{items:1}},mouseDragEnabled:!0,items:X}),Y=i.a.createElement(m.a,{onChange:()=>{0===document.getElementsByClassName("ant-collapse-item-active").length&&(Z(!0),W.current.push(setTimeout(()=>{Z(!1)},300)))},bordered:!1},i.a.createElement(D,{forceRender:!0,header:t.title,key:"1"},i.a.createElement(p.a,{key:"cart-wrapper-skelton",loading:z,active:!0},X)))}else 0===X.length||L.isMobile?0===X.length&&L.isMobile?Y=i.a.createElement(m.a,{bordered:!1},i.a.createElement(D,{header:t.title,key:"1"},i.a.createElement(p.a,{key:"cart-wrapper-skelton",loading:z,active:!0},i.a.createElement("p",{className:"CartWrapper_emptyCartDescription"},Object(N.a)("EmptyCartMessage"))))):0!==X.length||L.isMobile||(Y=i.a.createElement("div",{className:"cart-items"},i.a.createElement("h2",{className:"title"},t.title),i.a.createElement(w.a,{white:!0,className:"CartWrapper_emptyCart",primaryColor:"#fff"}),i.a.createElement("p",{className:"CartWrapper_emptyCartDescription"},Object(N.a)("EmptyCartMessage")))):Y=i.a.createElement("div",{className:"cart-items"},i.a.createElement("h2",{className:"title"},t.title),i.a.createElement(p.a,{key:"cart-wrapper-skelton",loading:z,active:!0},X));return[i.a.createElement(p.a,{key:"cart-wrapper-skelton",loading:S,active:!0},i.a.createElement("div",{className:"cart-container ".concat(L.isMobile?"cart-container-mobile":""),style:{position:"fixed"}},i.a.createElement("div",{className:K?"cart-wrapper active":"cart-wrapper",style:{marginTop:"".concat(j,"px"),height:"calc(100% - 15rem + 88px - ".concat(j,"px)")}},i.a.createElement(I,null),Y),i.a.createElement(A,{totalPrice:0,footerItems:e,match:a,location:r}))),i.a.createElement(M.default,{key:"cart-wrapper-delete-modal",onClick:(e,t,a)=>{l(e,n=>{0!==Object.keys(n).length||[Object(T.a)("TARIFF_PAGE"),Object(T.a)("TARIFF_PAGE")+"/"].includes(r.pathname)||c.push(Object(T.a)("CART_PAGE")),F.a.emit("cleanCoord".concat(e),e),delete U[e],G(U),Z(!0),a.push(setTimeout(()=>Z(!1),1e3)),a.push(setTimeout(e=>"function"===typeof t&&t(),300))},a)}})]}),H=a(24),z=a(13),Z=a.n(z),B=a(39),J=e=>{v.a.setJson("cart",{})},U=e=>{var t=v.a.getJsonSync("cart");null!==t&&(Object.keys(t).forEach(e=>{(e=>{var t=Object(H.b)(e);if(Object(H.i)(t.format(""))){var a=parseInt(t.format("HHmm"));return parseInt(Z()().format("HHmm"))>a}return t.diff(Z()(),"days")<0})(t[e][0].originData.date)&&delete t[e]}),v.a.setJson("cart",t),F.a.emit(f.a.RESYNC_CART_ITEM))};t.c=e=>{U();var t=Object(r.a)({componentItems:{title:"Mon panier"},checkUriAuthorization(e){var t=v.a.getJsonSync("cart");null!==t&&0!==Object.keys(t).length||e()},isExpress(e,t){(e.express&&!v.a.getJsonSync("widgetData").destinationDate||"retour"==e.status.toLowerCase()&&Object.values(v.a.getJsonSync("cart")).map(e=>e.filter(e=>e.express).length>0).filter(e=>e).length>0)&&F.a.emit(f.a.LOADER,{timeout:1500,callback(){t.push(Object(T.a)("TARIFF_COORD"))}})},formatCartObject:e=>({codeTrip:e.codeTrip,code:e.code,status:e.status,date:e.origin.date,destination:e.destination.station,destinationDate:e.destination.time,destinationData:e.destination.data,origin:e.origin.station,originDate:e.origin.time,originData:e.origin.data,kids:e.kids,adulte:e.adulte,typeId:e.tariffSelected._id,type:e.tariffSelected.title,price:e.tariffSelected.price,prices:e.prices,comfort:e.comfort,comfortSup:e.comfortSup,duration:e.duration,segmentsList:e.segmentsList,travelers:"".concat(e.adulte+e.kids," passager(s)"),express:e.express,trip:e.trip,searchComfort:e.searchComfort}),data:[{date:"Lundi 17 Sept",origin:"Rabat Agdal",destination:"CasaPort",travelers:"1 passager(s)",confort:"2\xe8me cl",type:"Flex",price:"178"}],footerItems:{labelText:i.a.createElement("span",null,"Montant total",i.a.createElement("br",null),"\xe0 payer"),totalPrice:"115",currency:"DH",buttonLabel:"Continuer"},updateScrollWrapper(e,t,a,r){var c=r=>{window.pageYOffset<=e?a(e-window.pageYOffset):0!==t&&a(0)};r.push(setTimeout(()=>{null===e&&null!==document.querySelector(".HeaderMenu")&&(e=document.querySelector(".HeaderMenu").clientHeight,null===t&&a(e)),null!==e&&(window.removeEventListener("scroll",c),window.addEventListener("scroll",c))}))},removeCart:(e,t,a)=>{var r=v.a.getJsonSync("cart");"undefined"!==typeof r[e]&&(r[e].forEach(function(){var t=Object(l.a)(n.a.mark((function t(a,r){var c,l;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(c=0;c<a.adulte+a.kids;c++)B.b.removeErrorOf("".concat(e,"-").concat(c+1));return t.next=3,document.getElementById("refresh".concat(a.status));case 3:void 0!==(l=t.sent)&&null!==l&&l.click();case 5:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()),delete r[e],null!==r&&v.a.setJson("cart",r),a.push(setTimeout(e=>{t(r),F.a.emit("resyncCartItem")})))}},e);return i.a.createElement(P,t)}},1106:function(e,t,a){"use strict";var r=a(0),c=a.n(r);t.a=({className:e="",white:t=!1})=>{var a=c.a.createElement("svg",{version:"1.1",id:"Calque_1",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",width:"1em",height:"1em",viewBox:"0 0 562 562",style:{enableBackground:"new 0 0 562 562"}},c.a.createElement("path",{fill:"#4200E2",d:"M104,424.7c3.2,36.1,36.9,60.3,70.2,60.3H402c33.3,0,63.8-24.2,67-60.3l7.4-107.7H96.6L104,424.7z"}),c.a.createElement("path",{fill:"#543BCC",d:"M513,305c0,6.6-5.4,12-12,12H69c-6.6,0-12-5.4-12-12v-47c0-6.6,5.4-12,12-12h432c6.6,0,12,5.4,12,12V305z"}),c.a.createElement("circle",{fill:"#4200E2",cx:"204.7",cy:"280.8",r:"25.8"}),c.a.createElement("path",{fill:"#6D5EFC",d:"M103.7,448.1c-4.5,6.4-13.3,7.9-19.7,3.4l0,0c-6.4-4.5-7.9-13.3-3.4-19.7l112.5-159.1c4.5-6.4,13.3-7.9,19.7-3.4l0,0c6.4,4.5,7.9,13.3,3.4,19.7L103.7,448.1z"}),c.a.createElement("circle",{fill:"#4200E2",cx:"373.9",cy:"280.8",r:"25.8"}),c.a.createElement("path",{fill:"#6D5EFC",d:"M474.9,448.1c4.5,6.4,13.3,7.9,19.7,3.4l0,0c6.4-4.5,7.9-13.3,3.4-19.7L385.4,272.8c-4.5-6.4-13.3-7.9-19.7-3.4l0,0c-6.4,4.5-7.9,13.3-3.4,19.7L474.9,448.1z"}),c.a.createElement("circle",{fill:"#FFFFFF",cx:"242.5",cy:"401.5",r:"6.5"}),c.a.createElement("circle",{fill:"#FFFFFF",cx:"331.5",cy:"401.5",r:"6.5"}),c.a.createElement("line",{stroke:"#FFFFFF",strokeWidth:"5",strokeMiterlimit:"10",fill:"#FFFFFF",x1:"262",y1:"428.5",x2:"311",y2:"428.5"}),c.a.createElement("rect",{x:"988.5",y:"437.5",fill:"#543BCC",width:"342.4",height:"342.4"}),c.a.createElement("rect",{x:"1331.5",y:"437.5",fill:"#4200E2",width:"342.4",height:"342.4"}),c.a.createElement("path",{fill:"#543BCC",d:"M197,184.8v12.1c-19.5,0-35.4-15.9-35.4-35.4h12.1C173.7,174.3,184.2,184.8,197,184.8z"}),c.a.createElement("path",{fill:"#543BCC",d:"M453,200.8v12.1c-19.5,0-35.4-15.9-35.4-35.4h12.1C429.7,190.3,440.2,200.8,453,200.8z"}),c.a.createElement("path",{fill:"#543BCC",d:"M314.9,71.2H327c0,19.5-15.9,35.4-35.4,35.4V94.5C304.4,94.5,314.9,84,314.9,71.2z"}),c.a.createElement("path",{fill:"#543BCC",d:"M304.7,193.2l8.1-8.1l-4.7-4.7l-0.6-0.6l-16.2-16.2l-8.1,8.1c1.4,1.4,1.1,3,0,4.2c-1.2,1.2-2.8,1.4-4.2,0l-2.1,2.1l-0.1,0.1l-20.1,20.1l2,2l0.7,0.7l18.7,18.7l22.3-22.3c-1.4-1.4-1.2-3.1,0-4.2C301.7,192,303.3,191.8,304.7,193.2zM292.9,183.6c0.6,0.6,0.6,1.5,0,2.1c-0.6,0.6-1.5,0.6-2.1,0c-0.6-0.6-0.6-1.5,0-2.1C291.4,183,292.3,183,292.9,183.6z M285.7,178.4c0.5-0.5,1.4-0.5,1.9,0c0.5,0.5,0.5,1.4,0,1.9c-0.5,0.5-1.4,0.5-1.9,0C285.1,179.7,285.1,178.9,285.7,178.4z M268.7,196.4l1.3-1.3l6.3,6.3l-1.3,1.3L268.7,196.4z M284.5,203.4L273.1,192l1.3-1.3l11.3,11.3L284.5,203.4z M296.2,191c-0.6-0.6-0.6-1.5,0-2.1c0.6-0.6,1.5-0.6,2.1,0c0.6,0.6,0.6,1.5,0,2.1C297.7,191.6,296.8,191.6,296.2,191z"}),c.a.createElement("path",{fill:"#543BCC",d:"M196.7,76.9l-7.4-7.4l-4.2,4.2l-0.5,0.5L169.8,89l7.4,7.4c1.3-1.3,2.8-1,3.8,0c1.1,1.1,1.3,2.5,0,3.8l2,2l0.1,0.1l18.3,18.3l1.8-1.8l0.6-0.6l17-17l-20.3-20.3c-1.3,1.3-2.8,1.1-3.8,0C195.6,79.7,195.4,78.2,196.7,76.9z M187.9,87.6c0.5-0.5,1.4-0.5,1.9,0c0.5,0.5,0.5,1.4,0,1.9c-0.5,0.5-1.4,0.5-1.9,0C187.4,89,187.4,88.2,187.9,87.6z M183.2,94.3c-0.5-0.5-0.5-1.2,0-1.7c0.5-0.5,1.2-0.5,1.7,0c0.5,0.5,0.5,1.2,0,1.7C184.4,94.7,183.7,94.7,183.2,94.3z M199.6,109.7l-1.1-1.1l5.7-5.7l1.1,1.1L199.6,109.7z M205.9,95.3l-10.3,10.3l-1.1-1.1l10.3-10.3L205.9,95.3z M194.7,84.7c-0.5,0.5-1.4,0.5-1.9,0c-0.5-0.5-0.5-1.4,0-1.9c0.5-0.5,1.4-0.5,1.9,0C195.2,83.3,195.2,84.1,194.7,84.7z"}),c.a.createElement("path",{fill:"#543BCC",d:"M421.5,73l-7.8-7.8l-4.5,4.5l-0.5,0.5L392.9,86l7.8,7.8c1.4-1.3,3-1.1,4.1,0c1.1,1.1,1.4,2.7,0,4.1l2.1,2.1l0.1,0.1l19.5,19.5l2-2l0.7-0.7l18.2-18.2l-21.7-21.7c-1.4,1.4-3,1.1-4.1,0C420.4,76,420.1,74.4,421.5,73z M412.2,84.5c0.6-0.6,1.5-0.6,2,0c0.6,0.6,0.6,1.5,0,2c-0.6,0.6-1.5,0.6-2,0C411.6,86,411.6,85.1,412.2,84.5z M407.1,91.6c-0.5-0.5-0.5-1.3,0-1.8c0.5-0.5,1.3-0.5,1.8,0c0.5,0.5,0.5,1.3,0,1.8C408.5,92.1,407.6,92.1,407.1,91.6z M424.7,108l-1.2-1.2l6.1-6.1l1.2,1.2L424.7,108z M431.4,92.7l-11,11l-1.2-1.2l11-11L431.4,92.7z M419.4,81.4c-0.6,0.6-1.5,0.6-2.1,0c-0.6-0.6-0.6-1.5,0-2.1s1.5-0.6,2.1,0C420,79.9,420,80.8,419.4,81.4z"}));return t&&(a=c.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 460 442.8",width:"1em",height:"1em"},c.a.createElement("g",{id:"Calque_2","data-name":"Calque 2"},c.a.createElement("g",{id:"Calque_1-2","data-name":"Calque 1"},c.a.createElement("path",{fill:"none",stroke:"#FFFFFF",d:"M49,380.5c3.2,36.1,36.9,60.3,70.2,60.3H347c33.3,0,63.8-24.2,67-60.3l7.4-107.7H41.6Z"}),c.a.createElement("path",{fill:"none",stroke:"#FFFFFF",d:"M458,260.8a12,12,0,0,1-12,12H14a12,12,0,0,1-12-12v-47a12,12,0,0,1,12-12H446a12,12,0,0,1,12,12Z"}),c.a.createElement("circle",{fill:"none",stroke:"#FFFFFF",cx:"149.7",cy:"233.6",r:"25.8"}),c.a.createElement("path",{fill:"#FFFFFF",stroke:"#FFFFFF",d:"M48.7,400.9A14.11,14.11,0,0,1,29,404.3h0a14.11,14.11,0,0,1-3.4-19.7L138.1,225.5a14.11,14.11,0,0,1,19.7-3.4h0a14.11,14.11,0,0,1,3.4,19.7Z"}),c.a.createElement("circle",{fill:"none",stroke:"#FFFFFF",cx:"318.9",cy:"233.6",r:"25.8"}),c.a.createElement("path",{fill:"#FFFFFF",stroke:"#FFFFFF",d:"M419.9,400.9a14.11,14.11,0,0,0,19.7,3.4h0a14.11,14.11,0,0,0,3.4-19.7l-112.6-159a14.11,14.11,0,0,0-19.7-3.4h0a14.11,14.11,0,0,0-3.4,19.7Z"}),c.a.createElement("circle",{fill:"#FFFFFF",stroke:"#FFFFFF",cx:"187.5",cy:"354.3",r:"6.5"}),c.a.createElement("circle",{fill:"#FFFFFF",stroke:"#FFFFFF",cx:"276.5",cy:"354.3",r:"6.5"}),c.a.createElement("line",{stroke:"#FFFFFF",x1:"207",y1:"384.8",x2:"256",y2:"384.8"}),c.a.createElement("path",{fill:"#FFFFFF",stroke:"#FFFFFF",d:"M114,137.6v12.1a35.47,35.47,0,0,1-35.4-35.4H90.7A23.39,23.39,0,0,0,114,137.6Z"}),c.a.createElement("path",{fill:"#FFFFFF",stroke:"#FFFFFF",d:"M398,153.6v12.1a35.47,35.47,0,0,1-35.4-35.4h12.1A23.39,23.39,0,0,0,398,153.6Z"}),c.a.createElement("path",{fill:"#FFFFFF",stroke:"#FFFFFF",d:"M236.9,1H249a35.47,35.47,0,0,1-35.4,35.4V24.3A23.39,23.39,0,0,0,236.9,1Z"}),c.a.createElement("path",{fill:"#FFFFFF",stroke:"#FFFFFF",d:"M254.4,120.6l8.1-8.1-4.7-4.7-.6-.6L241,91l-8.1,8.1a2.82,2.82,0,0,1,0,4.2,2.75,2.75,0,0,1-4.2,0l-2.1,2.1-.1.1-20.1,20.3,2,2,.7.7,18.7,18.7,22.3-22.3a2.74,2.74,0,0,1,0-4.2C251.4,119.5,253,119.2,254.4,120.6ZM242.6,111a1.48,1.48,0,1,1-2.1,0A1.66,1.66,0,0,1,242.6,111Zm-7.3-5.2a1.34,1.34,0,1,1,0,1.9A1.39,1.39,0,0,1,235.3,105.8Zm-16.9,18.1,1.3-1.3,6.3,6.3-1.3,1.3Zm15.7,6.9-11.3-11.3,1.3-1.3,11.3,11.3Zm11.7-12.3a1.48,1.48,0,1,1,2.1,0A1.45,1.45,0,0,1,245.8,118.5Z"}),c.a.createElement("path",{fill:"#FFFFFF",stroke:"#FFFFFF",d:"M138.3,34.3l-7.4-7.4-4.2,4.2-.5.5L111.4,46.4l7.4,7.4a2.52,2.52,0,0,1,3.8,0,2.45,2.45,0,0,1,0,3.8l2,2,.1.1L143,78l1.8-1.8.6-.6,17-17L142.1,38.3a2.45,2.45,0,0,1-3.8,0A2.84,2.84,0,0,1,138.3,34.3Zm-8.7,10.8a1.34,1.34,0,1,1,0,1.9A1.39,1.39,0,0,1,129.6,45.1Zm-4.7,6.6a1.2,1.2,0,1,1,1.7,0A1.15,1.15,0,0,1,124.9,51.7Zm16.4,15.4L140.2,66l5.7-5.7,1.1,1.1Zm6.3-14.3L137.3,63.1,136.2,62l10.3-10.3ZM136.4,42.1a1.34,1.34,0,1,1,0-1.9A1.39,1.39,0,0,1,136.4,42.1Z"}),c.a.createElement("path",{fill:"#FFFFFF",stroke:"#FFFFFF",d:"M366.5,25.8,358.7,18l-4.5,4.5-.5.5L337.9,38.8l7.8,7.8a2.78,2.78,0,0,1,4.1,0,2.71,2.71,0,0,1,0,4.1l2.1,2.1.1.1,19.5,19.5,2-2,.7-.7,18.2-18.2L370.7,29.8a2.71,2.71,0,0,1-4.1,0A2.53,2.53,0,0,1,366.5,25.8Zm-9.3,11.5a1.41,1.41,0,1,1,0,2A1.34,1.34,0,0,1,357.2,37.3Zm-5.1,7.1a1.27,1.27,0,1,1,1.8,0A1.27,1.27,0,0,1,352.1,44.4Zm17.6,16.4-1.2-1.2,6.1-6.1,1.2,1.2Zm6.7-15.3-11,11-1.2-1.2,11-11Zm-12-11.3a1.48,1.48,0,1,1,0-2.1A1.45,1.45,0,0,1,364.4,34.2Z"}))))),c.a.createElement("i",{className:"EmptyCartPage ".concat(e)},a)}},1107:function(e,t,a){"use strict";var r=a(36),c=a(0),n=a.n(c),l=a(1094);a(596),a(1108);t.a=e=>{var t=e.visible,a=void 0!==t&&t,c=(e.close,e.content),s=void 0===c?"":c,i=Object(r.a)(e,["visible","close","content"]);return n.a.createElement(l.a,Object.assign({centered:!0},i,{className:"CustomModal",title:"",visible:a,footer:!1}),s)}},1108:function(e,t,a){},1111:function(e,t,a){},1112:function(e,t,a){},1113:function(e,t,a){},1115:function(e,t,a){"use strict";a.r(t);var r=a(6),c=a(0),n=a.n(c),l=a(35),s=a(28),i=a(40),o=a(5),m=a(1107),d=e=>{var t=Object(o.a)({},e);return n.a.createElement(m.a,t)},p=a(7),u=a(11),E=a(21),F=(a(104),null);t.default=({onClick:e})=>{Object(l.b)();var t=Object(c.useState)(!1),a=Object(r.a)(t,2),o=a[0],m=a[1],f=Object(c.useRef)([]);return Object(c.useEffect)(()=>(p.a.addListeners(u.a.REMOVE_CART,e=>{F=e,m(!0)}),e=>{p.a.removeListener(u.a.REMOVE_CART),f.current.forEach(e=>clearTimeout(e))}),[]),n.a.createElement(d,{onCancel:()=>m(!1),key:"cart-wrapper-custom-modal-delete",visible:o,content:n.a.createElement("div",{className:"modalContent"},n.a.createElement(s.a,{type:"delete"}),n.a.createElement("p",{className:"modalContent_title"},Object(E.a)("deleteTripTitle")),n.a.createElement("p",{className:"modalContent_text"},Object(E.a)("deleteTripDescription")),n.a.createElement(i.a,{content:"Non",type:"secondary",ghost:!0,className:"modalContent_btn btn-large",onClick:()=>m(!1)}),n.a.createElement(i.a,{content:"Oui",type:"secondary",className:"modalContent_btn btn-large",onClick:t=>{e(F,e=>{m(!1)},f.current)}}))})}},1116:function(e,t,a){"use strict";var r=a(12),c=a.n(r),n=a(27),l=a(5),s=a(36),i=a(0),o=a.n(i),m=a(20),d=a(1153),p=(a(1120),a(40)),u=a(50),E=({isProfile:e,title:t,handleDisconnect:a,content:r="",className:c="",body:n=""})=>{var l=Object(i.useRef)([]),s=o.a.createElement("div",null,o.a.createElement(p.a,{onClick:()=>a(l.current),ghost:!0,type:"primary",content:"Se d\xe9connecter"})),E=n;if(""===E){var F=()=>r;""===F&&(F=()=>o.a.createElement(m.b,{to:Object(u.a)("TARIFF_SEARCH")},o.a.createElement(p.a,{className:"PageHeaderBlock_button",type:"gray",content:"Modifier",icon:"edit"}))),E=o.a.createElement("div",{className:"PageHeaderBlock_items"},o.a.createElement("div",null,o.a.createElement("label",{key:"header-title",className:"PageHeaderBlock_title"},t)),!0===e?s:null,o.a.createElement(F,{key:"header-content"}))}return Object(i.useEffect)(()=>()=>{l.current.forEach(e=>clearTimeout(e))},[]),o.a.createElement("div",null,o.a.createElement("div",{key:"page-header-title",className:"PageHeaderBlock".concat(""!==c?" "+c:"")},E),o.a.createElement(d.a,{key:"page-header-divider"}))},F=a(4),f=a(115),b=a(7),h=a(11),v=a(1105);t.a=Object(f.h)(e=>{var t=e.history,a=e.location,r=Object(s.a)(e,["history","location"]),i="/profil"==a.pathname,m=Object(l.a)({handleDisconnect:e=>Object(n.a)(c.a.mark((function a(){return c.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:Object(v.b)(),e.push(setTimeout(e=>{b.a.emit(h.a.RESYNC_CART_ITEM),F.a.remove("login"),b.a.emit(h.a.LOGGED_OUT),F.c.tripTravelers&&F.c.tripTravelers.contact&&(F.c.tripTravelers.contact={email:"",firstname:"",lastname:"",phone:"",confirmEmail:"",civilityCode:1,getTickerFromCounter:!1,termOfUse:!1}),t.push("/")}));case 2:case"end":return a.stop()}}),a)})))(),isProfile:i},r);return o.a.createElement(E,m)})},1120:function(e,t,a){},1193:function(e,t,a){},1235:function(e,t,a){"use strict";a.r(t);var r=a(5),c=a(6),n=a(0),l=a.n(n),s=a(147),i=a(1089),o=a(28),m=a(1153),d=a(92),p=a(1100),u=(a(601),a(240),a(117),a(116),a(1104),a(1109)),E=a(191),F=({trips:e})=>l.a.createElement("div",{className:"FooterWidget"},l.a.createElement(m.a,null),l.a.createElement("p",{className:"FooterWidget_title"},"Compl\xe9ter votre recherche pour v\xe9rifier les disponibilit\xe9s"),l.a.createElement(E.default,{fill:!0,notitle:!0,trips:e,withBG:!0,type:"advanced"}),l.a.createElement("div",{className:"FooterWidget_background"})),f=a(1116),b=a(7),h=a(11),v=a(21),O=a(4),y=a(24),j=(a(1193),{}),g={},C=({trips:e,arrivalTrips:t,departureTrips:a,departureCTA:r,arrivalCTA:E,formatedDate:C,setDepartureTripsObj:T,filterTrips:k})=>{var S=e.arrivalPath,A=e.departurePath,w=Object(n.useState)(!1),M=Object(c.a)(w,2),N=M[0],x=M[1],L=Object(n.useState)(!0),_=Object(c.a)(L,2),R=_[0],D=_[1],I=Object(n.useState)(!1),P=Object(c.a)(I,2),H=P[0],z=P[1],Z=Object(n.useState)(1),B=Object(c.a)(Z,2),J=B[0],U=B[1];O.a.getJson("widgetData").then(e=>{j=e,D(!1)}),Object(n.useEffect)(()=>{var e=S.length>0;return b.a.addListeners(h.a.TRIP_CHOOSED,t=>{"undefined"===typeof t.trip?("aller"===t.toLowerCase()?(g={},z(!1)):delete g[t.toLowerCase()],x(!1)):(g[t.status.toLowerCase()]=t.trip,["je choisis mon aller","aller"].includes(t.status.toLowerCase())&&!H&&z(!0),b.a.emit(h.a.ASSIGN_TRIPS_TO_WIDGET,g),(2===Object.keys(g).length||!e&&1===Object.keys(g).length)&&x(!0))}),b.a.addListeners(h.a.CHOOSE_OTHER_TRIP,()=>{z(!1)}),()=>{b.a.removeListeners(["tripChoosed","chooseOtherTrip"])}},[]);var G=Object(v.a)("noTrainsAvailable_1");1===J&&(G=Object(v.a)("noTrainsAvailable_1")),2===J&&(G=Object(v.a)("noTrainsAvailable_2")),3===J&&(G=Object(v.a)("noTrainsAvailable_3"));var Y=S.length>0&&H?l.a.createElement(u.a,{backTripShowen:!1,prev:E.prev,next:E.next,trips:t,key:"cart-item-second-trip",status:"Retour",date:Object(y.d)(j.destinationDate,"dddd DD MMMM YYYY")}):"",W=!H||""!=Y&&1==N,q=l.a.createElement("h2",{key:"cart-item-trip"},G);a.length>0&&(q=l.a.createElement(u.a,{backTripShowen:W,enablePrev:r.enablePrev,enableNext:r.enableNext,prev:r.prev,next:r.next,trips:a,status:"Aller"}));var V=N?l.a.createElement(F,{trips:e}):"",K={xl:{span:18,offset:3},xs:{span:22,offset:1}};return l.a.createElement(s.a,{className:"schedule-search main"},l.a.createElement(f.a,{title:"Mes horaires en un clic"}),l.a.createElement(i.a,{loading:R,active:!0},l.a.createElement("div",{className:"dates-informations-wrapper"},l.a.createElement("div",{className:"dates-info"},l.a.createElement(o.a,{type:"calendar"})," ",l.a.createElement("b",null,C)),l.a.createElement("br",null),l.a.createElement("div",{className:"o-d-informations-wrapper"},l.a.createElement("span",{className:"origin"},A[0].departureStationId.description.default),l.a.createElement("span",{className:"arrow"}),l.a.createElement("span",{className:"destination"},A[0].arrivalStationId.description.default)))),l.a.createElement(m.a,null),l.a.createElement("div",{className:"filters-wrapper"},l.a.createElement(d.a,{sm:{span:24},md:{span:24},lg:{span:24},xxl:{span:24}},l.a.createElement("div",{className:"filter-trains"},l.a.createElement(p.a.Group,{onChange:({target:e})=>{T(k(e.value)),U(e.value)},defaultValue:1,className:"radio-filter",key:"filter"},l.a.createElement(p.a.Button,{value:1},Object(v.a)("allTrains")),l.a.createElement(p.a.Button,{value:2},Object(v.a)("directTrain")),l.a.createElement(p.a.Button,{value:3},Object(v.a)("withCorrespondance")))))),l.a.createElement(m.a,null),q,l.a.createElement(m.a,null),Y,l.a.createElement(d.a,K,V))};t.default=e=>{var t=O.a.getJsonSync("schedule");null===t&&(window.location.href="/");var a=Object(n.useState)(Object(y.k)(t).departurePath),s=Object(c.a)(a,2),i=s[0],o=s[1],m=Object(n.useState)({start:0,end:10}),d=Object(c.a)(m,2),p=d[0],u=d[1],E=Object(n.useState)({start:0,end:10}),F=Object(c.a)(E,2),f=F[0],b=F[1],h=t.arrivalPath,v="~";i.length>0&&(v=Object(y.d)(i[0].dateTimeDeparture,"dddd DD MMMM YYYY"));var j=h.slice(f.start,f.end),g=i.slice(p.start,p.end),T=Object(r.a)({formatedDate:v,arrivalTrips:j,departureTrips:g,setDepartureTripsObj:o,filterTrips(e){var a={all:()=>!0,directOnly:e=>1===e.segmentsList.length,correspOnly:e=>1!==e.segmentsList.length},r=1===e?a.all:2===e?a.directOnly:a.correspOnly;return t.departurePath.filter(e=>r(e))},departureCTA:{enablePrev:p.start-10>=0,enableNext:i.length-p.end>0,next(){u({start:p.start+10,end:p.end+10})},prev(){u({start:p.start-10,end:p.end-10})}},arrivalCTA:{enablePrev:f.start-10>=0,enableNext:h.length-f.end>0,next(){b({start:f.start+10,end:f.end+10})},prev(){b({start:f.start-10,end:f.end-10})}},trips:t},e);return l.a.createElement(C,T)}}}]);